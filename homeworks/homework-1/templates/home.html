{% extends "base.html" %}
{% block title %}Todo List{% endblock %}
{% block content %}
<div class="row">
  <div class="col-md-8">
    <h1 class="mb-4">Todo List</h1>
    <ul class="list-group mb-4">
      {% for todo in todos %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <div>
            <h5 class="mb-1">{{ todo.title }}</h5>
            <p class="mb-0">{{ todo.description|truncatewords:20 }}</p>
          </div>
          <div>
            <a href="{% url 'todo_update' todo.id %}" class="btn btn-sm btn-outline-primary me-2">Edit</a>
            <a href="{% url 'todo_delete' todo.id %}" class="btn btn-sm btn-outline-danger">Delete</a>
          </div>
        </li>
      {% empty %}
        <li class="list-group-item">No todos yet.</li>
      {% endfor %}
    </ul>
  </div>
  <div class="col-md-4">
    <h2 class="mb-3">Add New Todo</h2>
    <form method="post" action="{% url 'todo_create' %}">
      {% csrf_token %}
      {{ form.as_p }}
      <button type="submit" class="btn btn-success">Create</button>
    </form>
  </div>
</div>
{% endblock %}